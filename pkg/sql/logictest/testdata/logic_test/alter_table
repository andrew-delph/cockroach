statement ok
SET experimental_enable_temp_tables = 'on';

# Default values can be added and changed after table creation.
statement ok
CREATE TABLE add_default (a int primary key, b int not null)

statement error null value in column "b" violates not-null constraint
INSERT INTO add_default (a) VALUES (1)

statement ok
ALTER TABLE add_default ALTER COLUMN b SET DEFAULT 42

query T noticetrace
ALTER TABLE add_default SET UNLOGGED
----
NOTICE: UNLOGGED TABLE will behave as a regular table in CockroachDB

query T noticetrace
ALTER TABLE add_default SET LOGGED
----
NOTICE: UNLOGGED TABLE will behave as a regular table in CockroachDB

query T noticetrace
ALTER TABLE IF EXISTS add_default SET UNLOGGED
----
NOTICE: UNLOGGED TABLE will behave as a regular table in CockroachDB

query T noticetrace
ALTER TABLE IF EXISTS add_default SET LOGGED
----
NOTICE: UNLOGGED TABLE will behave as a regular table in CockroachDB


statement ok
CREATE GLOBAL TEMP TABLE global1 (a int primary key, b int not null)

statement error pq: temporary table "global1" cannot be SET LOGGED/UNLOGGED
ALTER TABLE IF EXISTS global1 SET UNLOGGED
